#!/usr/bin/env python

# ps-csv: Print Spotify CSV
# Print out the Spotify playlist content, from a CSV file.
# Usage: pscsv <file>

import sys
import os
import pandas as pd

def eprint(*args, **kwargs):
    print(*args, file=sys.stderr, **kwargs)

def usage():
    print('Usage: pscsv <file>')
    sys.exit(1)

def check_args():
    if len(sys.argv) != 2:
        eprint('No file specified!')
        usage()

def check_path():
    if not os.path.exists(sys.argv[1]):
        eprint('File does not exist!')
        sys.exit(1)

if __name__ == '__main__':
    check_args()

    path = sys.argv[1]
    check_path()

    pd.options.display.max_rows = sys.maxsize * 2 + 1
    data = pd.read_csv(path)

    print(data[['Song', 'Artist']].replace('\t', ' '))
